import os
import scapy.all as scapy

os.system('ip netns del h1 > /dev/null')
os.system('ip netns del h2 > /dev/null')
os.system('ip netns del h3 > /dev/null')
os.system('ip netns add h1 > /dev/null')
os.system('ip netns add h2 > /dev/null')
os.system('ip netns add h3 > /dev/null')
os.system('echo 1 > /proc/sys/net/ipv4/ip_forward')


h1_0::VPort(ifname='h1-0', netns='/var/run/netns/h1', ip_addrs=['10.0.1.1/24'])
h1_1::VPort(ifname='h1-1', ip_addrs=['10.0.1.2/24'])
h2_0::VPort(ifname='h2-0', netns='/var/run/netns/h2', ip_addrs=['10.0.2.1/24'])
h2_1::VPort(ifname='h2-1', ip_addrs=['10.0.2.2/24'])
h3_0::VPort(ifname='h3-0', netns='/var/run/netns/h3', ip_addrs=['10.0.3.1/24'])
h3_1::VPort(ifname='h3-1', ip_addrs=['10.0.3.2/24'])



PortInc(port='h1_0') -> PortOut(port='h1_1')
PortInc(port='h1_1') -> PortOut(port='h1_0')
